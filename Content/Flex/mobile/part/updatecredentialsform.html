<script cdscript="true" type="text/javascript">
    cd.flex.addTemplate(
        "updatecredentialsform",
	   null,
       function (template, abstractPart) {
           //write custom stuff
           abstractPart.append();
       },
       function (abstractPart) {
            abstractPart.setupProperty(abstractPart.propertyKeys.currentpassword, '[cdid="current-password-input"]');
            abstractPart.setupProperty(abstractPart.propertyKeys.newpassword, '[cdid="new-password-input"]');
            abstractPart.setupProperty(abstractPart.propertyKeys.confirmpassword, '[cdid="confirm-password-input"]');

            abstractPart.setupEvent(abstractPart.eventKeys.submit, 'click [cdid=updatecredentialsform-update-btn]');
            abstractPart.setupEvent(abstractPart.eventKeys.submit, 'click [cdid=continue-btn]');
       }
	  );
</script>

<div class="partcontent partcontent-updatecredentialsform" cdlegacy="false" cd-data-model="UpdateCredentials">
    <div class="updatecredentials">
        <h1 cdresource="update_credentials">Update Credentials</h1>

        <h3 cdresource="update_password_message"></h3>

        <div class="updatecredentialsform-input-item">
            <label cdresource="updatecredentialsform_currentpassword_label">Current Password:</label>
            <input type="text" id="update-credentials-current-password-input" cdid="current-password-input" cd-data-prop="CurrentPassword" cd-data-prop-resource="current_password" cd-data-rule="required" />
        </div>
        <div class="updatecredentialsform-input-item">
            <label cdresource="updatecredentialsform_newpassword_label">New Password:</label>
            <input type="text" id="update-credentials-new-password-input" cdid="new-password-input" cd-data-prop="NewPassword" cd-data-prop-resource="new_password" cd-data-rule="required" />
        </div>
        <div class="updatecredentialsform-input-item">
            <label cdresource="updatecredentialsform_confirmpassword_label">Confirm Password:</label>
            <input type="text" id="update-credentials-confirm-password-input" cdid="confirm-password-input" cd-data-prop="ConfirmPassword" cd-data-prop-resource="confirm_password" cd-data-rule="required;equalto(NewPassword)" />
        </div>
        <button cdid="updatecredentialsform-update-btn">Submit</button>
        <div cdid="updatecredentialsform-validation-summary" class="validation-summary validationsummary-updatecredentialsform"></div>
        <div id="updatedCredentialsRequest" style="display: none;" class="confirmSent">
            <span cdresource="password_updated_message">Your password has been updated.</span>
        </div>
    </div>
</div>
